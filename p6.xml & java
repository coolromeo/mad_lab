activitymain.xml:
<?xml version="1.0" encoding="utf-8"?> <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android" xmlns:app="http://schemas.android.com/apk/res-auto" xmlns:tools="http://schemas.android.com/tools" android:layout_width="match_parent" android:layout_height="match_parent" tools:context="com.example.smsemailphone.MainActivity"> <TextView android:id="@+id/textView1" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Sending SMS Example" android:layout_alignParentTop="true" android:layout_centerHorizontal="true" android:textSize="30dp" /> <Button android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Send Sms" android:id="@+id/btnSendSMS" android:layout_centerHorizontal="true" android:layout_marginTop="48dp" /> <Button android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Send Email" android:id="@+id/btnSendEmail" android:layout_below="@+id/btnSendSMS" android:layout_centerHorizontal="true" android:layout_marginTop="48dp" /> <Button android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Phone" android:id="@+id/btnDialPhone" android:layout_marginTop="54dp" /> </RelativeLayout>
MainActivity:
package com.example.smsprog; import androidx.appcompat.app.AppCompatActivity; import android.content.Intent; import android.net.Uri; import android.os.Bundle; import android.view.View; import android.widget.Button; import android.widget.Toast; public class MainActivity extends AppCompatActivity { private static final int MY_PERMISSIONS_REQUEST_SEND_SMS = 0; Button sendBtn; Button btnSendEmail; Button btnPhone; String phoneNo; String message; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); sendBtn = (Button) findViewById(R.id.btnSendSMS); btnSendEmail = (Button) findViewById(R.id.btnSendEmail); btnPhone = (Button) findViewById(R.id.btnDialPhone); sendBtn.setOnClickListener(new View.OnClickListener() { public void onClick(View view) { sendSMSMessage(); } }); btnSendEmail.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { sendEmail(); } }); btnPhone.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { PhoneDial(); } }); } protected void sendEmail() {
Intent emailIntent = new Intent(Intent.ACTION_SEND); emailIntent.setData(Uri.parse("mailto:")); emailIntent.setType("text/plain"); emailIntent.putExtra(Intent.EXTRA_EMAIL, new String[]{"ba.mohan@gmail.com"}); emailIntent.putExtra(Intent.EXTRA_SUBJECT, "subject Test"); emailIntent.putExtra(Intent.EXTRA_TEXT, "Message Body Test"); startActivity(emailIntent); } protected void sendSMSMessage() { Intent sendIntent = new Intent(Intent.ACTION_VIEW); sendIntent.putExtra("sms_body", "default content"); sendIntent.setType("vnd.android-dir/mms-sms"); startActivity(sendIntent); Toast.makeText(getApplicationContext(), "SMS sent.", Toast.LENGTH_LONG).show(); } protected void PhoneDial() { Intent intent = new Intent(Intent.ACTION_DIAL); startActivity(intent); } }

Program 6b:
Activity_main.xml
<?xml version="1.0" encoding="utf-8"?> <androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android" xmlns:app="http://schemas.android.com/apk/res-auto" xmlns:tools="http://schemas.android.com/tools" android:layout_width="match_parent" android:layout_height="match_parent" tools:context=".MainActivity"> <Button android:id="@+id/button" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="@string/button" tools:layout_editor_absoluteX="33dp" tools:layout_editor_absoluteY="40dp" tools:ignore="MissingConstraints" /> </androidx.constraintlayout.widget.ConstraintLayout>
Main_activity.java
package com.example.contentprovider6b; import android.Manifest; import android.annotation.SuppressLint; import android.app.Activity; import android.content.Intent; import android.database.Cursor; import android.net.Uri; import android.os.Bundle; import android.provider.ContactsContract; import android.widget.Button; import android.widget.Toast; import androidx.appcompat.app.AppCompatActivity; import androidx.core.app.ActivityCompat; @SuppressWarnings("ALL") public class MainActivity extends AppCompatActivity { public static final int RequestPermissionCode = 1 ; @Override
S Trisheela
protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); Button button = findViewById(R.id.button); EnableRuntimePermission(); button.setOnClickListener(v -> { Intent intent = new Intent(Intent.ACTION_PICK, ContactsContract.Contacts.CONTENT_URI); startActivityForResult(intent, 1); }); } public void EnableRuntimePermission(){ if (ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this, Manifest.permission.READ_CONTACTS)) { Toast.makeText(MainActivity.this,"CONTACTS permission allows us to Access CONTACTS app", Toast.LENGTH_LONG).show(); } else { ActivityCompat.requestPermissions(MainActivity.this,new String[]{ Manifest.permission.READ_CONTACTS}, RequestPermissionCode); } } @Override public void onActivityResult(int reqCode, int resultCode, Intent data){ super.onActivityResult(reqCode, resultCode, data); if (reqCode == 1) { if (resultCode == Activity.RESULT_OK) { Uri contactData = data.getData(); try (Cursor c = managedQuery(contactData, null, null, null, null)) { if (c.moveToFirst()) { String id = c.getString(c.getColumnIndexOrThrow(ContactsContract.Contacts._ID)); @SuppressLint("Range") String hasPhone = c.getString(c.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER)); if (hasPhone.equalsIgnoreCase("1")) { Cursor phones = getContentResolver().query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null, ContactsContract.CommonDataKinds.Phone.CONTACT_ID + " = " + id, null, null); phones.moveToFirst(); @SuppressLint("Range") String cNumber = phones.getString(phones.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NU
S Trisheela
MBER)); Toast.makeText(getApplicationContext(), cNumber, Toast.LENGTH_SHORT).show(); phones.close(); } } } catch(Exception e) { e.printStackTrace(); } } } } }

AndriodManifest.xml <uses-permission android:name="android.permission.READ_CONTACTS"/>
